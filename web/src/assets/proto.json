{"nested":{"proto":{"nested":{"ServerPacket":{"fields":{"msgs":{"rule":"repeated","type":"S","id":1}}},"ClientPacket":{"fields":{"msgs":{"rule":"repeated","type":"C","id":1}}},"S":{"oneofs":{"s":{"oneof":["authSuccess","authError","userInfo","userLeave","padList","padInfo","chatMessage","removeChatMessage","delta","deltaDropped","document","serverStats","serverError"]}},"fields":{"authSuccess":{"type":"AuthSuccess","id":1},"authError":{"type":"string","id":2},"userInfo":{"type":"User","id":101},"userLeave":{"type":"uint32","id":102},"padList":{"type":"PadList","id":201},"padInfo":{"type":"PadOptions","id":202},"chatMessage":{"type":"ChatMessage","id":301},"removeChatMessage":{"type":"uint32","id":302},"delta":{"type":"Delta","id":401},"deltaDropped":{"type":"uint32","id":402},"document":{"type":"Document","id":403},"serverStats":{"type":"ServerStats","id":601},"serverError":{"type":"string","id":701}},"nested":{"AuthSuccess":{"fields":{"sessId":{"type":"string","id":1},"user":{"type":"User","id":2}}},"PadList":{"fields":{"name":{"rule":"repeated","type":"string","id":1}}},"ChatMessage":{"fields":{"id":{"type":"uint32","id":1},"userId":{"type":"uint32","id":2},"text":{"type":"string","id":3}}},"Delta":{"fields":{"id":{"type":"uint32","id":1},"userId":{"type":"uint32","id":2},"ops":{"rule":"repeated","type":"Op","id":3}}},"Document":{"fields":{"revision":{"type":"uint32","id":1},"ops":{"rule":"repeated","type":"Op","id":2}}},"ServerStats":{"fields":{"goVersion":{"type":"string","id":1},"goroutinesCount":{"type":"uint32","id":2},"pads":{"rule":"repeated","type":"Pad","id":3}},"nested":{"Pad":{"fields":{"name":{"type":"string","id":1},"clients":{"rule":"repeated","type":"Client","id":2}},"nested":{"Client":{"fields":{"sessId":{"type":"string","id":1},"user":{"type":"User","id":2}}}}}}}}},"C":{"oneofs":{"c":{"oneof":["guestAuth","sessionAuth","loginAuth","register","logout","editMe","enterPad","leavePad","sendChatMessage","getChatHistory","addDelta","getDocRevision","invertDelta","invertUserDeltas","restoreRevision","editUser","createUser","setPadOptions","deleteUser","deletePad","deleteChatMessage","deleteUserMessages","getServerStats","dropCaches","restartServer","execJs"]}},"fields":{"guestAuth":{"type":"bool","id":1},"sessionAuth":{"type":"string","id":2},"loginAuth":{"type":"LoginAuth","id":3},"register":{"type":"Register","id":4},"logout":{"type":"bool","id":5},"editMe":{"type":"User","id":101},"enterPad":{"type":"string","id":201},"leavePad":{"type":"bool","id":202},"sendChatMessage":{"type":"string","id":301},"getChatHistory":{"type":"GetChatHistory","id":302},"addDelta":{"type":"AddDelta","id":401},"getDocRevision":{"type":"uint32","id":402},"invertDelta":{"type":"uint32","id":403},"invertUserDeltas":{"type":"uint32","id":501},"restoreRevision":{"type":"uint32","id":502},"editUser":{"type":"User","id":503},"createUser":{"type":"User","id":504},"setPadOptions":{"type":"PadOptions","id":505},"deleteUser":{"type":"uint32","id":601},"deletePad":{"type":"string","id":602},"deleteChatMessage":{"type":"uint32","id":603},"deleteUserMessages":{"type":"uint32","id":604},"getServerStats":{"type":"bool","id":605},"dropCaches":{"type":"bool","id":606},"restartServer":{"type":"bool","id":607},"execJs":{"type":"string","id":608}},"nested":{"LoginAuth":{"fields":{"email":{"type":"string","id":1},"password":{"type":"string","id":2}}},"Register":{"fields":{"email":{"type":"string","id":1},"password":{"type":"string","id":2},"nickname":{"type":"string","id":3}}},"GetChatHistory":{"fields":{"from":{"type":"uint32","id":1},"count":{"type":"uint32","id":2}}},"AddDelta":{"fields":{"revision":{"type":"uint32","id":1},"ops":{"rule":"repeated","type":"Op","id":2}}}}},"Op":{"oneofs":{"op":{"oneof":["insert","delete","retain"]}},"fields":{"insert":{"type":"OpInsert","id":1},"delete":{"type":"OpDelete","id":2},"retain":{"type":"OpRetain","id":3}}},"OpInsert":{"fields":{"text":{"type":"string","id":1},"meta":{"type":"OpMeta","id":2}}},"OpDelete":{"fields":{"len":{"type":"uint32","id":1}}},"OpRetain":{"fields":{"len":{"type":"uint32","id":1},"meta":{"type":"OpMeta","id":2}}},"OpMeta":{"fields":{"changemask":{"type":"uint32","id":1},"bold":{"type":"bool","id":2},"italic":{"type":"bool","id":3},"underline":{"type":"bool","id":4},"strike":{"type":"bool","id":5},"fontSize":{"type":"uint32","id":6},"userId":{"type":"uint32","id":7}}},"User":{"fields":{"id":{"type":"uint32","id":1},"nickname":{"type":"string","id":101},"color":{"type":"uint32","id":102},"email":{"type":"string","id":201},"password":{"type":"string","id":202},"ip":{"type":"string","id":301},"userAgent":{"type":"string","id":302},"perms":{"type":"UserPerms","id":401},"online":{"type":"bool","id":501}}},"UserPerms":{"fields":{"notGuest":{"type":"bool","id":1},"chat":{"type":"bool","id":2},"write":{"type":"bool","id":3},"edit":{"type":"bool","id":4},"whitewash":{"type":"bool","id":5},"mod":{"type":"bool","id":6},"admin":{"type":"bool","id":7}}},"PadOptions":{"fields":{"private":{"type":"bool","id":1},"guestRo":{"type":"bool","id":2},"antiwipe":{"type":"bool","id":3},"freeze":{"type":"bool","id":4}}}}}}}